
CREATE DATABASE "cadastro-user"
  WITH OWNER = postgres
       ENCODING = 'UTF8'
       TABLESPACE = pg_default
       LC_COLLATE = 'Portuguese_Brazil.1252'
       LC_CTYPE = 'Portuguese_Brazil.1252'
       CONNECTION LIMIT = -1;


CREATE TABLE public.users
(
  email character varying(255) NOT NULL,
  senha character varying(255) NOT NULL,
  id integer NOT NULL DEFAULT nextval('users_id_seq'::regclass),
  nome character varying(255) NOT NULL,
  CONSTRAINT users_pkey PRIMARY KEY (id),
  CONSTRAINT email_unique UNIQUE (email)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.users
  OWNER TO postgres;
  
  
ALTER TABLE public."users"
  OWNER TO postgres; 
  
  
 INSERT INTO public."users"(
    login, senha)
    VALUES ('admin', 'admin');

****************** Telefones ************************
    
CREATE TABLE telefone (
id integer not null default nextval('telefone_seq'::regclass),
numero character varying(50) not null,
usuario_id bigint not null,
usuario_cad bigint not null,

constraint telefone_pkey primary key (id),
constraint usuario_id_fk foreign key (usuario_id) references users (id),
constraint usuario_cad_fk foreign key (usuario_cad) references users (id)  
);

CREATE SEQUENCE public.telefone_seq
  INCREMENT 1
  MINVALUE 1
  MAXVALUE 9223372036854775807
  START 1
  CACHE 1;
    
    